<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Injection Methods: Direct vs. Generic</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #1a1a1a;
      color: #fff;
      padding: 20px;
      line-height: 1.6;
    }
    h1 {
      font-size: 28px;
      color: #4CAF50;
      text-decoration: underline;
    }
    .code {
      background-color: #2b2b2b;
      color: #e0e0e0;
      padding: 10px;
      margin-bottom: 20px;
      border-radius: 5px;
      overflow-x: auto;
    }
    .comment {
      color: #888;
      font-style: italic;
    }
    .pros-cons {
      margin-bottom: 20px;
    }
    .pros-cons h3 {
      font-size: 24px;
      color: #4CAF50;
    }
    .pros-cons .pros, .pros-cons .cons {
      margin-bottom: 10px;
    }
    .pros-cons .pros h4, .pros-cons .cons h4 {
      font-size: 20px;
      color: #64DD17;
    }
    .pros-cons .cons h4 {
      color: #FF5252;
    }
    .use-case {
      margin-bottom: 20px;
    }
    .use-case h3 {
      font-size: 24px;
      color: #4CAF50;
    }
    .conclusion {
      margin-bottom: 20px;
    }
    .conclusion h3 {
      font-size: 24px;
      color: #4CAF50;
    }
  </style>
</head>
<body>
  <div class="content">
    <h1>Injection Methods: Direct vs. Generic</h1>

    <div class="code">
      <h2>Direct Injection</h2>
      <p class="comment">// Direct injection method</p>
      <pre>
        <code>
          document.addEventListener('DOMContentLoaded', () => {
            fetch('navbar.html')
              .then(response => response.text())
              .then(data => {
                document.getElementById('navbarContainer').innerHTML = data;
                // After injecting navbar, execute script to display username
                const usernameDisplay = document.getElementById('usernameDisplay');
                const username = localStorage.getItem('username');
                if (username) {
                  usernameDisplay.textContent = `Welcome, ${username}`;
                }
              })
              .catch(error => {
                console.error('Error fetching or injecting navbar:', error);
              });
          });
        </code>
      </pre>
      <h3>Explanation:</h3>
      <ul>
        <li>Fetch Content: Uses the fetch API to retrieve navbar.html.</li>
        <li>Insertion: Inserts the retrieved HTML (data) into navbarContainer.</li>
        <li>Post-Insertion Action: Updates the username display (usernameDisplay) if username is present in localStorage.</li>
      </ul>
    </div>

    <div class="code">
      <h2>Generic Injection</h2>
      <p class="comment">// Generic injection method</p>
      <pre>
        <code>
          document.addEventListener('DOMContentLoaded', () => {
            // Function to fetch and inject HTML content
            const injectHTML = (url, containerId) => {
              fetch(url)
                .then(response => response.text())
                .then(data => {
                  document.getElementById(containerId).innerHTML = data;
                  // Handle username display if needed
                  const username = localStorage.getItem('username');
                  if (username) {
                    document.querySelectorAll('.usernameDisplay').forEach(element => {
                      element.textContent = `Welcome, ${username}`;
                    });
                  }
                })
                .catch(error => {
                  console.error(`Error fetching ${url}:`, error);
                });
            };

            // Usage examples of injectHTML function
            injectHTML('navbar.html', 'navbarContainer');
            injectHTML('functionbar.html', 'functionContainer');
          });
        </code>
      </pre>
      <h3>Explanation:</h3>
      <ul>
        <li>Reusable Function: Defines injectHTML to fetch content (url) and inject it into the specified containerId.</li>
        <li>Dynamic Handling: Handles username display universally for elements with .usernameDisplay class within injected content.</li>
        <li>Error Handling: Catches and logs errors during fetch operations.</li>
      </ul>
    </div>

    <div class="pros-cons">
      <h3>Pros and Cons</h3>

      <div class="pros">
        <h4>Pros of Direct Injection:</h4>
        <ul>
          <li>Simplicity: Easy to implement and understand.</li>
          <li>Immediate Action: Executes actions immediately after content insertion.</li>
          <li>Direct Control: Directly manipulates DOM elements without additional abstraction.</li>
        </ul>
      </div>

      <div class="cons">
        <h4>Cons of Direct Injection:</h4>
        <ul>
          <li>Security Risk: Needs careful handling to avoid XSS attacks if injecting user-provided content without proper sanitization.</li>
          <li>Limited Reusability: Code may become repetitive if used in multiple places with similar functionality.</li>
        </ul>
      </div>

      <div class="use-case">
        <h3>Use Case for Direct Injection:</h3>
        <p>Best suited for simple applications or specific cases where immediate DOM manipulation is required, such as inserting static content like navigation bars or headers.</p>
      </div>
    </div>

    <div class="pros-cons">
      <h3>Pros and Cons</h3>

      <div class="pros">
        <h4>Pros of Generic Injection:</h4>
        <ul>
          <li>Modular Approach: Supports code reusability across different parts of a website.</li>
          <li>Dynamic Handling: Can dynamically update multiple parts of the DOM based on fetched content.</li>
          <li>Error Handling: Centralized error handling for fetch operations.</li>
        </ul>
      </div>

      <div class="cons">
        <h4>Cons of Generic Injection:</h4>
        <ul>
          <li>Complexity: Requires understanding of asynchronous programming with promises.</li>
          <li>Dependency: May rely on frameworks or libraries like Fetch API, jQuery, or front-end frameworks.</li>
        </ul>
      </div>

      <div class="use-case">
        <h3>Use Case for Generic Injection:</h3>
        <p>Suitable for dynamic web applications where content needs to be fetched and updated in various sections based on user interactions or data changes.</p>
      </div>
    </div>

    <div class="conclusion">
      <h3>Conclusion:</h3>
      <p>Both direct and generic injection methods have their strengths and are chosen based on specific project needs, complexity, and architectural considerations. Direct injection is simpler and more immediate, while generic injection offers flexibility and reusability for dynamic web applications.</p>
    </div>
  </div>
</body>
</html>
